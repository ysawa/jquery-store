(function(){(function(e){var t;return e.extend({store:{generate_key:function(e){return""+this.prefix+e},get:function(e){var n,r;return n=t,e=n.generate_key(e),r,n.storage_valid?r=n.storage.getItem(e):r=n.storage[e],typeof r=="undefined"||r===null?r:r==="undefined"?void 0:n.parse_json(r)},initialize:function(){var e,t;return this.storage_valid=!1,typeof localStorage!="undefined"&&(e=this.generate_key("_test"),localStorage.setItem(e,"valid"),t=localStorage.getItem(e),t&&t==="valid"&&(this.storage_valid=!0)),this.storage_valid?this.storage=localStorage:this.storage={},window.JSON&&window.JSON.stringify?this.json_object=window.JSON:this.json_object=null},json_object:null,json_special_characters:{"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},json_escape_character:function(e){var n;return n=t,n.json_special_characters[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},parse_json:function(t){return e.parseJSON(t)},prefix:"js_",remove:function(e){var n;return n=t,e=n.generate_key(e),n.storage_valid?n.storage.removeItem(e):delete n.storage[e]},remove_all:function(){var e;return e=t,e.storage_valid?e.storage.clear():e.storage={}},set:function(e,n){var r,i;return r=t,i=r.stringify_json(n),e=r.generate_key(e),r.storage_valid?r.storage.setItem(e,i):r.storage[e]=i},storage:{},storage_valid:!1,stringify_json:function(n,r){var i,s,o;s=t,o=e.type(n);if(s.json_object)return s.json_object.stringify(n);switch(o){case"string":return'"'+n.replace(/[\x00-\x1f\\"]/g,s.json_escape_character)+'"';case"array":return"["+e.map(n,s.stringify_json)+"]";case"object":return i=[],e.each(n,function(e,t){var n,r;r=s.stringify_json(t);if(typeof r!="undefined")return n=s.stringify_json(e),i.push(""+n+":"+r)}),"{"+i+"}";case"number":case"boolean":return""+n;case"date":return s.stringify_json_date(n);case"regexp":return"{}";case"function":case"undefined":return r?void 0:"null";case"null":return"null"}return n},stringify_json_date:function(e){var t,n,r,i,s,o,u;return u=e.getUTCFullYear(),s=e.getUTCMonth()+1,t=e.getUTCDate(),n=e.getUTCHours(),i=e.getUTCMinutes(),o=e.getUTCSeconds(),r=e.getUTCMilliseconds(),s<10&&(s="0"+s),t<10&&(t="0"+t),n<10&&(n="0"+n),i<10&&(i="0"+i),o<10&&(o="0"+o),r<10?r="00"+r:r<100&&(r="0"+r),'"'+u+"-"+s+"-"+t+"T"+n+":"+i+":"+o+"."+r+'Z"'}}}),t=e.store,t.initialize()})(jQuery)}).call(this);